<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.firstgroup.movies.mapper.DirectorMapper">

		<resultMap type="com.firstgroup.movies.domain.DirectorVO" id="dirMap">
		<id property="dirBno" column="dirbno"/>
		<result property="dirName" column="dirname"/>
		<result property="dirAge" column="dirage"/>
	</resultMap>
	
	 
  	 	<!-- actor insert -->
	<insert id="insertDirector" useGeneratedKeys="true" keyProperty="dirBno">
		<selectKey keyProperty="dirBno" order="BEFORE" resultType="long">
	    		select seq_director.nextval from dual
    	</selectKey>
		insert into tbl_director(dirbno, dirname, dirage, dirbirth)
		values(#{dirBno}, #{dirName}, #{dirAge}, #{dirBirth})
	</insert>
  	
  		<!-- 전체 배우정보 불러오기 -->
	<select id="getDirectorList" resultType="com.firstgroup.movies.domain.DirectorVO">
		select * from tbl_director where dirbno > 0
	</select>
	
  	<!-- 한명의 배우 정보 불러오기 -->
	 <select id="getDirector" resultType="com.firstgroup.movies.domain.DirectorVO">
	 	select * from tbl_director where dirbno =  #{dirbno}
		
	 </select>
</mapper>